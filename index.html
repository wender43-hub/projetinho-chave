<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca Digital</title>
    <!-- Incluindo o Tailwind CSS para um design moderno e responsivo -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Importando a fonte Inter do Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Estilo base para usar a fonte Inter */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Efeito de scroll suave */
        html {
            scroll-behavior: smooth;
        }
        /* Estilo para a barra de rolagem */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1f2937;
        }
        ::-webkit-scrollbar-thumb {
            background: #4b5563;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6b7280;
        }
    </style>
</head>
<body class="bg-gray-900 text-white">

    <div class="container mx-auto px-4 py-8">
        <!-- Cabeçalho da página -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-cyan-400 mb-2">Minha Biblioteca Digital</h1>
            <p class="text-lg text-gray-400">Explore, pesquise e leia seus livros favoritos.</p>
        </header>

        <!-- Controles de Filtro e Pesquisa -->
        <div class="mb-10 p-4 bg-gray-800 rounded-lg shadow-lg sticky top-4 z-10">
            <div class="flex flex-col md:flex-row gap-4">
                <!-- Barra de Pesquisa -->
                <div class="relative flex-grow">
                    <input type="text" id="searchInput" placeholder="Pesquisar por título ou autor..." class="w-full bg-gray-700 text-white placeholder-gray-400 rounded-md py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-cyan-500 transition duration-300">
                    <svg class="w-6 h-6 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                    </svg>
                </div>
                <!-- Filtros de Gênero -->
                <div id="genreFilters" class="flex items-center flex-wrap gap-2">
                    <!-- Os botões de gênero serão inseridos aqui pelo JavaScript -->
                </div>
            </div>
        </div>

        <!-- Grade de Livros -->
        <main id="bookGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-8">
            <!-- Os cards dos livros serão inseridos aqui pelo JavaScript -->
        </main>
        
        <!-- Mensagem para quando nenhum resultado for encontrado -->
        <div id="noResultsMessage" class="hidden text-center py-16">
            <h2 class="text-2xl font-semibold text-gray-500">Nenhum livro encontrado</h2>
            <p class="text-gray-400 mt-2">Tente ajustar sua pesquisa ou filtro de gênero.</p>
        </div>

    </div>

    <script>
        // --- INÍCIO DA ÁREA DE CONFIGURAÇÃO ---
        // Você pode adicionar, editar ou remover livros nesta lista.
        // Basta seguir o mesmo formato de objeto para cada livro.
        const books = [
            {
                id: 1,
                title: "O Guia do Mochileiro das Galáxias",
                author: "Douglas Adams",
                genre: "Ficção Científica",
                coverImage: "https://placehold.co/300x450/0D9488/FFFFFF?text=O+Guia+do+Mochileiro",
                // IMPORTANTE: Substitua '#' pelo caminho real do seu arquivo PDF.
                // Pode ser um link online ou um caminho local (ex: 'livros/guia.pdf')
                pdfUrl: "#" 
            },
            {
                id: 2,
                title: "Duna",
                author: "Frank Herbert",
                genre: "Ficção Científica",
                coverImage: "https://placehold.co/300x450/F59E0B/FFFFFF?text=Duna",
                pdfUrl: "#"
            },
            {
                id: 3,
                title: "O Hobbit",
                author: "J.R.R. Tolkien",
                genre: "Fantasia",
                coverImage: "https://placehold.co/300x450/10B981/FFFFFF?text=O+Hobbit",
                pdfUrl: "#"
            },
            {
                id: 4,
                title: "A Guerra dos Tronos",
                author: "George R. R. Martin",
                genre: "Fantasia",
                coverImage: "https://placehold.co/300x450/3B82F6/FFFFFF?text=A+Guerra+dos+Tronos",
                pdfUrl: "#"
            },
            {
                id: 5,
                title: "O Assassinato no Expresso do Oriente",
                author: "Agatha Christie",
                genre: "Mistério",
                coverImage: "https://placehold.co/300x450/6366F1/FFFFFF?text=Expresso+do+Oriente",
                pdfUrl: "#"
            },
            {
                id: 6,
                title: "O Código Da Vinci",
                author: "Dan Brown",
                genre: "Mistério",
                coverImage: "https://placehold.co/300x450/8B5CF6/FFFFFF?text=O+C%C3%B3digo+Da+Vinci",
                pdfUrl: "#"
            },
            {
                id: 7,
                title: "Sapiens: Uma Breve História da Humanidade",
                author: "Yuval Noah Harari",
                genre: "Não Ficção",
                coverImage: "https://placehold.co/300x450/EC4899/FFFFFF?text=Sapiens",
                pdfUrl: "#"
            },
            {
                id: 8,
                title: "1984",
                author: "George Orwell",
                genre: "Ficção Científica",
                coverImage: "https://placehold.co/300x450/EF4444/FFFFFF?text=1984",
                pdfUrl: "#"
            },
            {
                id: 9,
                title: "O Senhor dos Anéis",
                author: "J.R.R. Tolkien",
                genre: "Fantasia",
                coverImage: "https://placehold.co/300x450/06B6D4/FFFFFF?text=O+Senhor+dos+An%C3%A9is",
                pdfUrl: "#"
            },
            {
                id: 10,
                title: "Uma Mente Brilhante",
                author: "Sylvia Nasar",
                genre: "Não Ficção",
                coverImage: "https://placehold.co/300x450/D97706/FFFFFF?text=Uma+Mente+Brilhante",
                pdfUrl: "#"
            }
        ];
        // --- FIM DA ÁREA DE CONFIGURAÇÃO ---


        // Selecionando os elementos do HTML que vamos manipular
        const bookGrid = document.getElementById('bookGrid');
        const searchInput = document.getElementById('searchInput');
        const genreFiltersContainer = document.getElementById('genreFilters');
        const noResultsMessage = document.getElementById('noResultsMessage');

        // Variáveis para guardar o estado atual dos filtros
        let currentSearchTerm = '';
        let currentGenre = 'Todos';

        /**
         * Função principal para renderizar os livros na tela.
         * Ela recebe uma lista de livros e cria os cards para cada um.
         */
        function renderBooks(booksToRender) {
            // Limpa a grade de livros antes de adicionar os novos
            bookGrid.innerHTML = '';

            // Verifica se a lista de livros para renderizar está vazia
            if (booksToRender.length === 0) {
                bookGrid.classList.add('hidden');
                noResultsMessage.classList.remove('hidden');
            } else {
                bookGrid.classList.remove('hidden');
                noResultsMessage.classList.add('hidden');
                
                booksToRender.forEach(book => {
                    const bookCard = `
                        <a href="${book.pdfUrl}" target="_blank" class="group block bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-cyan-500/50 transition-all duration-300 transform hover:-translate-y-2">
                            <div class="relative">
                                <img src="${book.coverImage}" alt="Capa do livro ${book.title}" class="w-full h-auto object-cover aspect-[2/3]" onerror="this.onerror=null;this.src='https://placehold.co/300x450/1F2937/FFFFFF?text=Imagem+N%C3%A3o+Encontrada';">
                                <div class="absolute inset-0 bg-black bg-opacity-50 group-hover:bg-opacity-20 transition-all duration-300"></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-lg truncate text-gray-100">${book.title}</h3>
                                <p class="text-sm text-gray-400">${book.author}</p>
                            </div>
                        </a>
                    `;
                    bookGrid.innerHTML += bookCard;
                });
            }
        }
        
        /**
         * Função para criar e renderizar os botões de filtro de gênero.
         */
        function renderGenreFilters() {
            // Extrai todos os gêneros únicos da lista de livros
            const genres = ['Todos', ...new Set(books.map(book => book.genre))];
            
            genres.forEach(genre => {
                const button = document.createElement('button');
                button.textContent = genre;
                button.dataset.genre = genre; // Atributo para identificar o gênero
                
                // Estilo base do botão
                button.className = 'px-4 py-2 text-sm font-medium rounded-md transition-colors duration-300';
                
                // Estilo do botão ativo vs inativo
                if (genre === currentGenre) {
                    button.classList.add('bg-cyan-500', 'text-white');
                } else {
                    button.classList.add('bg-gray-700', 'text-gray-300', 'hover:bg-gray-600');
                }

                // Adiciona o evento de clique para filtrar por gênero
                button.addEventListener('click', () => {
                    currentGenre = genre;
                    updateDisplay();
                    updateActiveGenreButton();
                });

                genreFiltersContainer.appendChild(button);
            });
        }
        
        /**
         * Função para atualizar o estilo do botão de gênero ativo.
         */
        function updateActiveGenreButton() {
            const buttons = genreFiltersContainer.querySelectorAll('button');
            buttons.forEach(button => {
                button.classList.remove('bg-cyan-500', 'text-white');
                button.classList.add('bg-gray-700', 'text-gray-300', 'hover:bg-gray-600');
                if (button.dataset.genre === currentGenre) {
                    button.classList.remove('bg-gray-700', 'text-gray-300', 'hover:bg-gray-600');
                    button.classList.add('bg-cyan-500', 'text-white');
                }
            });
        }

        /**
         * Função central que filtra os livros com base na pesquisa e no gênero selecionado.
         */
        function updateDisplay() {
            let filteredBooks = books;

            // 1. Filtrar por gênero
            if (currentGenre !== 'Todos') {
                filteredBooks = filteredBooks.filter(book => book.genre === currentGenre);
            }

            // 2. Filtrar pelo termo de pesquisa (no título ou autor)
            if (currentSearchTerm) {
                const lowerCaseSearchTerm = currentSearchTerm.toLowerCase();
                filteredBooks = filteredBooks.filter(book => 
                    book.title.toLowerCase().includes(lowerCaseSearchTerm) ||
                    book.author.toLowerCase().includes(lowerCaseSearchTerm)
                );
            }

            // Renderiza os livros que passaram por todos os filtros
            renderBooks(filteredBooks);
        }

        // Adiciona o evento de 'input' para a barra de pesquisa
        searchInput.addEventListener('input', (e) => {
            currentSearchTerm = e.target.value;
            updateDisplay();
        });

        // Função que é executada quando a página termina de carregar
        document.addEventListener('DOMContentLoaded', () => {
            renderGenreFilters();
            updateDisplay(); // Renderiza todos os livros inicialmente
        });

    </script>
</body>
</html>
